<script setup>
const linkQuery = ref('');// é—œéµå­—æœå°‹

//test
const links = reactive([
  {
    name: 'å…¨åœ‹å•†å·¥è¡Œæ”¿æœå‹™å…¥å£ç¶²',
    url: 'https://gcis.nat.gov.tw/mainNew/index.jsp',
  },
  {
    name: 'å…¬å¸èˆ‡å•†æ¥­åŠæœ‰é™åˆå¤¥ä¸€ç«™å¼ç·šä¸Šç”³è«‹',
    url: 'https://onestop.nat.gov.tw/oss/web/Show/download_T.do',
  },
  {
    name: 'å…¬å¸ä¾å…¬å¸æ³•è¦å®šå…¬å‘Šè³‡è¨Šç«™',
    url: 'https://serv.gcis.nat.gov.tw/pap/',
  },
  {
    name: 'å…¬å¸è² è²¬äººåŠä¸»è¦è‚¡æ±è³‡è¨Šç”³å ±å¹³è‡º',
    url: 'https://ctp.tdcc.com.tw/decl/auth/login',
  },
  {
    name: 'ç‡Ÿæ¥­é …ç›®ä»£ç¢¼æŸ¥è©¢',
    url: 'https://gcis.nat.gov.tw/cod/browseAction.do?method=browse',
  },
  {
    name: 'å·¥å•†æ†‘è­‰ç®¡ç†ä¸­å¿ƒ',
    url: 'https://moeaca.nat.gov.tw/other/index.html',
  },
  {
    name: 'é‡‘ç®¡æœƒ-é˜²åˆ¶æ´—éŒ¢åŠæ‰“æ“Šè³‡æ',
    url: 'https://www.sfb.gov.tw/ch/home.jsp?id=941&parentpath=0%2C8%2C935',
  },
  {
    name: 'å…¬é–‹è§€æ¸¬è³‡è¨Šç«™',
    url: 'https://mopsov.twse.com.tw/mops/web/stapap1',
  },
  {
    name: 'ç¶“æ¿Ÿéƒ¨æŠ•è³‡å¯©è­°å¸',
    url: 'https://www.moea.gov.tw/Mns/dir/home/Home.aspx',
  },
  {
    name: 'è‡ºåŒ—å¸‚å•†æ¥­è™•',
    url: 'https://www.tcooc.gov.taipei/',
  },
  {
    name: 'æ–°åŒ—å¸‚æ”¿åºœç¶“æ¿Ÿç™¼å±•å±€',
    url: 'https://www.economic.ntpc.gov.tw/',
  },
  {
    name: 'æ¡ƒåœ’å¸‚æ”¿åºœç¶“æ¿Ÿç™¼å±•å±€',
    url: 'https://edb.tycg.gov.tw/',
  },
  {
    name: 'è‡ºä¸­å¸‚æ”¿åºœç¶“æ¿Ÿç™¼å±•å±€',
    url: 'https://www.economic.taichung.gov.tw/16467/Nodelist',
  },
  {
    name: 'ç¶“æ¿Ÿéƒ¨ä¸­éƒ¨è¾¦å…¬å®¤',
    url: 'https://www.cto.moea.gov.tw/',
  },
  {
    name: 'è‡ºå—å¸‚æ”¿åºœç¶“æ¿Ÿç™¼å±•å±€ ( [æ°‘æ²»å¸‚æ”¿ä¸­å¿ƒ]ã€[æ°¸è¯å¸‚æ”¿ä¸­å¿ƒ: æ±å€ã€å—å€ã€åŒ—å€ã€ä¸­è¥¿å€ã€ä»å¾·å€ã€é—œå»Ÿå€ã€é¾å´å€ã€å®‰å¹³å€ã€å®‰å—å€ã€æ°¸åº·å€ã€æ­¸ä»å€])',
    url: 'https://economic.tainan.gov.tw/'
  },
  {
    name: 'é«˜é›„å¸‚æ”¿åºœç¶“æ¿Ÿç™¼å±•å±€',
    url: 'https://edbkcg.kcg.gov.tw/',
  },
  {
    name: 'ä¸­è¯éƒµæ”¿å…¨çƒè³‡è¨Šç¶²',
    url: 'https://www.post.gov.tw/post/internet/Group/default.jsp',
  },
  {
    name: 'ç‡Ÿæ¥­æ“šé»ä¸€è¦½-å¹³å¸¸æ—¥å»¶æ™‚ç‡Ÿæ¥­éƒµå±€',
    url: 'https://www.post.gov.tw/post/internet/I_location/index.jsp?ID=190102',
  },
  {
    name: 'ä¸­è¯éƒµæ”¿-ä¸­æ–‡åœ°å€è‹±è­¯',
    url: 'https://www.post.gov.tw/post/internet/Postal/index.jsp?ID=207',
  },
  {
    name: 'å…¨åœ‹æ³•è¦è³‡æ–™åº«',
    url: 'https://law.moj.gov.tw/Index.aspx',
  },
  {
    name: 'å…¬å¸æ³•å‡½é‡‹å…§å®¹ã€åˆ¤æ±ºå…§å®¹æŸ¥è©¢',
    url: 'https://gcis.nat.gov.tw/elaw/lawDtlAction.do?method=viewLaw&pk=19',
  }
])
//test
const authortyList = reactive([
  {
    unitName: 'ç¶“æ¿Ÿéƒ¨å•†æ¥­ç™¼å±•ç½²',
    service: [
      '1. å¤–å•†ï¼šåˆ†å…¬å¸ç™»è¨˜ã€è¾¦äº‹è™•ç™»è¨˜',
      '2. å¤§é™¸å•†ï¼šè¨±å¯ã€åˆ†å…¬å¸ç™»è¨˜ã€è¾¦äº‹è™•å ±å‚™ ',
      '3. å¯¦æ”¶è³‡æœ¬é¡æ–°è‡ºå¹£ 10 å„„å…ƒä»¥ä¸Šä¹‹æœ¬åœ‹å…¬å¸',
      '4. å¯¦æ”¶è³‡æœ¬é¡æ–°è‡ºå¹£ 5 å„„å…ƒä»¥ä¸Šæœªé” 10 å„„å…ƒä¹‹å…¬é–‹ç™¼è¡Œè‚¡ç¥¨ä¹‹æœ¬åœ‹å…¬å¸',
    ],
    address: 'è‡ºåŒ—å¸‚ä¸­æ­£å€ç¦å·è¡—15è™Ÿ',
    phone: '(02)2343-3300',
  },
  {
    unitName: 'ç¶“æ¿Ÿéƒ¨å•†æ¥­ç™¼å±•ç½²(å—æŠ•è¾¦å…¬å®¤)',
    service: [
      '5. å¯¦æ”¶è³‡æœ¬é¡æœªé”æ–°è‡ºå¹£ 5 å„„å…ƒå…¶æ‰€åœ¨åœ°åœ¨ç›´è½„å¸‚è½„å€æˆ–ç‰¹å€å¤–ä¹‹æœ¬åœ‹å…¬å¸ (ä¾‹å¦‚: åŸºéš†ã€æ–°ç«¹ã€è‹—æ —ã€å½°åŒ–ã€å—æŠ•ã€é›²æ—ã€å˜‰ç¾©ã€å±æ±ã€å®œè˜­ã€èŠ±è“®ã€è‡ºæ±ç­‰è½„å€) ',
      '6. å¯¦æ”¶è³‡æœ¬é¡æ–°è‡ºå¹£ 5 å„„å…ƒä»¥ä¸Šæœªé” 10 å„„å…ƒä¹‹ã€Œéå…¬é–‹ç™¼è¡Œã€è‚¡ç¥¨ä¹‹æœ¬åœ‹å…¬å¸ ',
    ],
    address: 'å—æŠ•å¸‚çœåºœè·¯4è™Ÿ(å—æŠ•è¾¦å…¬å€)',
    phone: '(049)235-9171',
  },
  {
    unitName: 'è‡ºåŒ—å¸‚æ”¿åºœï¼ˆå•†æ¥­è™•ï¼‰ ',
    service: [
      'å¯¦æ”¶è³‡æœ¬é¡æœªé”æ–°è‡ºå¹£ 5 å„„å…ƒå…¶æ‰€åœ¨åœ°åœ¨ã€Œè‡ºåŒ—å¸‚ã€è½„å€å…§ä¹‹æœ¬åœ‹å…¬å¸',
    ],
    address: 'è‡ºåŒ—å¸‚å¸‚åºœè·¯1è™Ÿ ',
    phone: '(02)27596019',
  },
  {
    unitName: 'æ–°åŒ—å¸‚æ”¿åºœï¼ˆç¶“æ¿Ÿç™¼å±•å±€ï¼‰',
    service: [
      'å¯¦æ”¶è³‡æœ¬é¡æœªé”æ–°è‡ºå¹£ 5 å„„å…ƒå…¶æ‰€åœ¨åœ°åœ¨ã€Œæ–°åŒ—å¸‚ã€è½„å€å…§ä¹‹æœ¬åœ‹å…¬å¸',
    ],
    address: 'æ–°åŒ—å¸‚æ¿æ©‹å€ä¸­å±±è·¯1æ®µ161è™Ÿ',
    phone: '(02)29603456 è½‰ 5401~5403',
  },
  {
    unitName: 'æ¡ƒåœ’å¸‚æ”¿åºœï¼ˆç¶“æ¿Ÿç™¼å±•å±€ï¼‰',
    service: [
      'å¯¦æ”¶è³‡æœ¬é¡æœªé”æ–°è‡ºå¹£ 5 å„„å…ƒå…¶æ‰€åœ¨åœ°åœ¨ã€Œæ¡ƒåœ’å¸‚ã€è½„å€å…§ä¹‹æœ¬åœ‹å…¬å¸',
    ],
    address: 'æ¡ƒåœ’å¸‚æ¡ƒåœ’å€ç¸£åºœè·¯1è™Ÿ',
    phone: '(03)3322101 è½‰ 5165~5168 ',
  },
  {
    unitName: 'è‡ºä¸­å¸‚æ”¿åºœï¼ˆç¶“æ¿Ÿç™¼å±•å±€ï¼‰',
    service: [
      'å¯¦æ”¶è³‡æœ¬é¡æœªé”æ–°è‡ºå¹£ 5 å„„å…ƒå…¶æ‰€åœ¨åœ°åœ¨ã€Œè‡ºä¸­å¸‚ã€è½„å€å…§ä¹‹æœ¬åœ‹å…¬å¸',
    ],
    address: 'è‡ºä¸­å¸‚è¥¿å±¯å€è‡ºç£å¤§é“ä¸‰æ®µ99è™Ÿ ',
    phone: '(04)22289111 è½‰ 31368~31380',
  },
  {
    unitName: 'è‡ºå—å¸‚æ”¿åºœï¼ˆç¶“æ¿Ÿç™¼å±•å±€ï¼‰- æ°¸è¯å¸‚æ”¿ä¸­å¿ƒ',
    service: [
      'å¯¦æ”¶è³‡æœ¬é¡æœªé”æ–°è‡ºå¹£ 5 å„„å…ƒå…¶æ‰€åœ¨åœ°åœ¨ã€Œè‡ºå—å¸‚ã€è½„å€å…§ä¹‹æœ¬åœ‹å…¬å¸',
      'å»ºè­°è«‹æ’¥æ‰“é›»è©±ç¢ºèªï¼Œæ°¸è¯å¸‚æ”¿ä¸­å¿ƒè½„å€ç¯„åœ: æ±å€ã€å—å€ã€åŒ—å€ã€ä¸­è¥¿å€ã€ä»å¾·å€ã€é—œå»Ÿå€ã€é¾å´å€ã€å®‰å¹³å€ã€å®‰å—å€ã€æ°¸åº·å€ã€æ­¸ä»å€'
    ],
    address: 'è‡ºå—å¸‚å®‰å¹³å€æ°¸è¯è·¯2æ®µ6è™Ÿ ï¼ˆæ°¸è¯å¸‚æ”¿ä¸­å¿ƒï¼‰',
    phone: '(06)2991111',
  },
  {
    unitName: 'è‡ºå—å¸‚æ”¿åºœï¼ˆç¶“æ¿Ÿç™¼å±•å±€ï¼‰- æ°‘æ²»å¸‚æ”¿ä¸­å¿ƒ',
    service: [
      'å¯¦æ”¶è³‡æœ¬é¡æœªé”æ–°è‡ºå¹£ 5 å„„å…ƒå…¶æ‰€åœ¨åœ°åœ¨ã€Œè‡ºå—å¸‚ã€è½„å€å…§ä¹‹æœ¬åœ‹å…¬å¸',
      'å»ºè­°è«‹æ’¥æ‰“é›»è©±ç¢ºèªè½„å€ç¯„åœ'
    ],
    address: 'è‡ºå—å¸‚æ–°ç‡Ÿå€æ°‘æ²»è·¯36è™Ÿï¼ˆæ°‘æ²»å¸‚æ”¿ä¸­å¿ƒï¼‰',
    phone: '(06)6322231',
  },

])

// é—œéµå­—æœå°‹å¸¸ç”¨é€£çµ
const filteredLinks = computed(() => {
  // é—œéµå­—
  const text = linkQuery.value?.trim().toLowerCase();
  // ç¯©é¸
  if (text !== '') {
    return links.filter(item => item.name.toLowerCase().includes(text));
  } else {
    return links;
  }
})

const openMap = (address) => {
  const googleMapUrl = "https://www.google.com/maps?q=" + encodeURIComponent(address);
  window.open(googleMapUrl, "_blank");
}

</script>
<template>
  <div class="p-2">
    <div class="w-full lg:max-w-7xl mx-auto relative">
      <div class="titleArea h-40 bg-primary rounded-md mb-4 flex justify-center items-center">
        <h1 class="text-2xl font-bold text-white">è¾¦ç†å…¬å¸ç™»è¨˜å¸¸ç”¨ä¹‹é€£çµ</h1>
      </div>
      <!-- å¸¸ç”¨é€£çµå€å¡Š -->
      <section class="p-8 mb-10 rounded-md overflow-y-auto bg-accent">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <h2 class="text-xl text-primary font-bold mb-4">ğŸ‘‰ å¸¸ç”¨é€£çµ</h2>
          <label class="input input-bordered flex items-center mb-1">
            <input type="text" placeholder="æœå°‹å¸¸ç”¨é€£çµ" v-model="linkQuery" />
          </label>
        </div>
        <div class="grid grid-cols-4 gap-2 p-4 lg:p-0 max-h-[50vh] overflow-y-auto">
          <div v-if="filteredLinks.length !== 0" v-for="(i, index) in filteredLinks" :key="index"
            class="col-span-4 md:col-span-2 lg:col-span-1">
            <a :href="i.url" target="_blank"
              class="block bg-white w-full h-full px-4 py-2 border rounded-md hover:shadow-md hover:font-bold hover:text-warning overflow-hidden">
              <i class="ri-links-fill inline pr-1"></i>
              <p class="text-sm inline">{{ i.name }}</p>
            </a>
          </div>
          <div class="text-gray-500 col-span-12 text-2xl font-bold text-center p-8" v-else>æŸ¥ç„¡è³‡è¨Š ^_^ /</div>
        </div>
      </section>
      <!-- ä¸»ç®¡æ©Ÿé—œå€å¡Š -->
      <section class="p-8 mb-10 rounded-md overflow-y-auto bg-accent shadow-sm">
        <div class="flex flex-col md:flex-row mb-4">
          <h2 class="md:flex-1 text-xl text-primary font-bold">ğŸ‘‰ å—ç†å…¬å¸ç™»è¨˜ä¹‹æœå‹™æ©Ÿé—œ </h2>
          <p class="md:text-right">è³‡æ–™ä¾†æº:
            <a href="https://serv.gcis.nat.gov.tw/crm/faqAction.do?method=faqDetlDetl&id=560"
              class="text-blue-500 hover:text-blue-500 hover:underline" target="_blank">
              å…¨åœ‹å•†å·¥æœå‹™è¡Œæ”¿å…¥å£ç¶²
            </a>
          </p>
        </div>

        <div>
          <div class="grid grid-cols-12 gap-8">
            <div v-for="item in authortyList"
              class="group col-span-12 md:col-span-6 border rounded-md p-6 bg-white hover:shadow-lg hover:border-blue-600">
              <h3 class="text-xl font-bold p-2 mb-2 group-hover:text-blue-600">{{ item.unitName }}</h3>
              <div class="p-2 border rounded-md">
                <div class="flex flex-col md:flex-row w-full">
                  <div class="font-bold card rounded-box grid md:w-1/2 md:min-h-20 p-4 flex-grow place-items-center">
                    <a href="#" class="hover:text-warning" @click.prevent="openMap(item.address)">
                      <p>{{ item.address }}<i class="ri-map-pin-fill"></i>
                      </p>
                    </a>
                  </div>
                  <div class="divider md:divider-horizontal my-0"></div>
                  <div class="font-bold card rounded-box grid md:w-1/2 md:min-h-20 p-4 flex-grow place-items-center">
                    <p>{{ item.phone }}</p>
                  </div>
                </div>
              </div>
              <div class="p-2">
                <p class="badge badge-ghost p-2 mb-1">å—ç†ç¯„åœ</p>
                <ul class="pl-6 list-disc">
                  <li v-for="s in item.service">{{ s }}</li>
                </ul>
              </div>
            </div>
          </div>

        </div>

      </section>
    </div>
  </div>
</template>
<style lang="sass" scoped>

</style>
